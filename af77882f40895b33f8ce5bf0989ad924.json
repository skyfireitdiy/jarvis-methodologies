{
  "problem_type": "Rust测试修复方法",
  "content": "问题重述：修复Rust项目中因边界值处理和原子操作导致的测试失败\n\n可复用解决流程：\n1. 分析阶段\n   - 使用`execute_script`运行失败测试获取详细错误\n   - 使用`read_code`读取测试代码理解期望行为\n   - 使用`read_code`读取实现代码分析差异\n\n2. 修复阶段\n   - 识别边界值处理缺陷（整数溢出/下溢）\n   - 调整原子操作返回值处理：fetch_add/fetch_sub返回旧值，需+/-1得到新值\n   - 使用wrapping_add/wrapping_sub处理边界情况\n   - 保持最小改动，避免重构\n\n3. 验证阶段\n   - 逐个验证修复的测试用例：cargo test <test_name>\n   - 验证相关测试模块：cargo test <module_name>\n   - 验证完整测试套件：cargo test -- --nocapture\n\n注意事项：\n- 原子操作返回旧值，期望新值时需要额外+/-1\n- usize::MAX边界需要特殊处理溢出\n- 修复后确保所有测试仍通过\n- 保持代码注释中文规范\n\n可选步骤：\n- 添加边界值测试用例\n- 使用内存模型工具验证线程安全"
}