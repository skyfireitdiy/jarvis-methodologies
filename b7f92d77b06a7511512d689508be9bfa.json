{
  "problem_type": "测试失败修复",
  "content": "## 测试失败诊断与修复方法论\n\n### 问题重述\n当`cargo test`出现测试失败时，需要快速定位问题并修复，确保所有测试都能通过。\n\n### 可复用解决流程\n\n**阶段1：问题定位**\n1. 收集失败信息：运行`cargo test -- --nocapture`获取完整错误\n2. 识别失败测试：记录测试名称和失败原因\n3. 分类问题：区分是功能错误、并发问题还是环境问题\n\n**阶段2：精准验证**\n1. 单独运行：使用`cargo test test_name -- --nocapture`\n2. 重复验证：多次运行确认问题稳定性\n3. 调试添加：必要时添加调试输出\n\n**阶段3：修复验证**\n1. 最小修复：仅修复确认的问题\n2. 回归测试：确保修复不破坏其他测试\n3. 全量验证：最终运行完整测试套件\n\n**阶段4：预防措施**\n1. 并发测试：识别可能的竞态条件\n2. 环境隔离：确保测试间无状态污染\n3. 文档记录：记录修复方案和验证步骤\n\n### 注意事项\n- 优先单独测试，避免并发干扰\n- 注意测试间的状态共享问题\n- 修复后必须验证所有相关测试\n\n### 可选步骤\n- 添加日志：在关键位置添加日志输出\n- 性能分析：检查测试执行时间\n- 边界测试：验证极端情况"
}