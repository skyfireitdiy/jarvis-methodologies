{
  "problem_type": "从源码编译安装Neovim",
  "content": "### 问题重述\n如何在基于 Debian 的系统（如 KylinOS, Ubuntu）上从源代码编译并安装最新版本的 Neovim。\n\n### 可复用解决流程\n1.  **准备阶段：安装依赖**\n    - **操作**: 更新包管理器并安装编译 Neovim 所需的所有依赖项。\n    - **工具**: `execute_script`\n    - **示例命令**:\n      ```bash\n      sudo apt update && sudo apt install -y ninja-build gettext cmake unzip curl build-essential git\n      ```\n\n2.  **获取源码**\n    - **操作**: 从 Neovim 的官方 GitHub 仓库克隆最新的源代码。\n    - **工具**: `execute_script`\n    - **示例命令**:\n      ```bash\n      # 可选：如果本地已存在旧的源码目录，先删除\n      # rm -rf neovim\n      git clone https://github.com/neovim/neovim.git\n      ```\n\n3.  **编译项目**\n    - **操作**: 进入源码目录，执行 `make` 命令进行编译。`CMAKE_BUILD_TYPE=Release` 参数用于构建一个性能优化的版本。\n    - **工具**: `execute_script`\n    - **示例命令**:\n      ```bash\n      cd neovim && make CMAKE_BUILD_TYPE=Release\n      ```\n\n4.  **安装到系统**\n    - **操作**: 使用 `sudo` 权限执行安装命令，将编译好的文件复制到系统标准目录（通常是 `/usr/local/` 下）。\n    - **工具**: `execute_script`\n    - **示例命令**:\n      ```bash\n      cd neovim && sudo make install\n      ```\n\n5.  **验证安装**\n    - **操作**: 执行版本检查命令，确认新安装的 Neovim 是否可以正常运行，并检查其版本号是否符合预期。\n    - **工具**: `execute_script`\n    - **示例命令**:\n      ```bash\n      nvim --version\n      ```\n\n### 注意事项\n- **权限问题**: 步骤 1 和 4 需要 `sudo` 权限。\n- **网络问题**: 步骤 1 和 2 需要稳定的网络连接来下载依赖和源代码。\n- **路径冲突**: 确保系统的 `PATH` 环境变量包含了安装路径（通常是 `/usr/local/bin`），并且其优先级高于系统包管理器安装的旧版 nvim 路径（如 `/usr/bin`），否则可能仍然会执行到旧版本。可以通过 `which nvim` 命令来确认。\n- **卸载旧版**: 如果之前通过 `apt` 等包管理器安装过 Neovim，建议先使用 `sudo apt remove neovim` 将其卸载，以避免冲突。"
}