{
  "problem_type": "修复Rust资源泄漏",
  "content": "问题重述：\n在Rust代码中发现资源泄漏风险，特别是在创建资源后如果中间步骤失败，可能导致资源未正确释放。\n\n可复用解决流程：\n1. 识别资源创建点（如文件句柄、内存分配、外部资源）\n2. 确认对应的清理函数是否存在（如close、destroy、drop）\n3. 使用以下任一模式实现RAII：\n   - 闭包包装模式：将可能失败的操作包装在闭包中，统一处理清理\n   - 自定义RAII类型：实现Drop trait的结构体\n   - try-finally模式：使用defer或手动finally块\n4. 修改导入语句确保清理函数可访问\n5. 补充测试用例验证资源清理在各种失败路径下都能执行\n6. 运行完整测试套件确保无回归\n\n注意事项：\n- 优先使用标准库提供的RAII类型（如File、MutexGuard）\n- 避免在析构函数中panic\n- 测试应覆盖正常路径和所有可能的错误路径\n- 清理操作应幂等，可多次调用"
}