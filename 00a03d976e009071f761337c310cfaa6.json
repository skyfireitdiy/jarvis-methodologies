{
  "problem_type": "Rust TDD开发实现C语义等价功能",
  "content": "# Rust TDD开发实现C语义等价功能方法论\n\n## 问题重述\n将C语言中的函数移植到Rust，并通过TDD（测试驱动开发）方式实现，确保语义等价且所有测试用例通过。\n\n## 可复用解决流程\n\n### 1. 需求分析阶段\n- 使用`read_symbols`和`read_code`获取C源码实现\n- 分析C实现的算法逻辑和数据结构\n- 识别关键边界条件和错误处理场景\n\n### 2. 测试分析阶段\n- 运行`cargo test -- --nocapture`获取当前测试状态\n- 分析失败测试用例的期望行为和实际行为\n- 确认测试用例是否正确覆盖了C实现的所有场景\n\n### 3. 实现修复阶段\n- 根据C实现逻辑修改Rust代码\n- 确保类型系统和错误处理符合Rust最佳实践\n- 保留C实现的语义等价性\n\n### 4. 验证阶段\n- 运行完整测试套件确保所有测试通过\n- 检查编译警告和clippy警告\n- 验证边界条件和错误场景\n\n## 注意事项\n- 优先修改类型检测和错误处理逻辑，而非大范围重构\n- 确保测试用例的输入数据格式与实际调用场景一致\n- 保留关键调试信息直到问题完全解决\n- 遵循最小改动原则，避免引入回归问题\n\n## 可选步骤\n- 添加临时调试输出定位复杂问题\n- 对比C和Rust实现的内存模型差异\n- 考虑性能优化但确保语义正确优先"
}