{
  "problem_type": "版本发布",
  "content": "# 版本发布方法论\n\n## 问题重述\n规范化软件版本发布流程，确保版本号递增正确、ReleaseNote格式一致、Git标签正确创建和推送。\n\n## 可复用解决流程\n\n### 1. 准备阶段\n1.1 获取当前最新版本号\n   - 命令：`git describe --tags --abbrev=0`\n  \n1.2 确定新版本号\n   - Patch版本：x.y.z → x.y.(z+1)（修复bug、小改动）\n   - Minor版本：x.y.z → x.(y+1).0（新功能、向后兼容）\n   - Major版本：x.y.z → (x+1).0.0（重大变更、不向后兼容）\n\n1.3 获取代码变更内容\n   - 命令：`git log v<old_version>..HEAD --pretty=format:'%h - %s (%cr)' --reverse`\n   - 分析变更类型：新功能、修复、优化、文档等\n\n### 2. 生成ReleaseNote\n2.1 选择格式\n   - 标题格式：`### Release Note - v<version> (YYYY-MM-DD)`\n   - 章节结构：新功能(Features)、修复、优化与重构、文档更新、测试增强、删除\n\n2.2 编写内容\n   - 新功能：详细描述新增的功能和特性\n   - 修复：说明修复的问题和影响\n   - 优化与重构：描述代码改进和重构内容\n   - 文档更新：列出更新的文档\n\n2.3 插入位置\n   - 在ReleaseNote.md文件开头插入新的版本内容\n\n### 3. 更新版本号\n3.1 更新pyproject.toml\n   - 定位版本号行（通常是第7行）\n   - 格式：`version = \"x.y.z\"`\n   - 更新为新版本号\n\n3.2 如有其他配置文件也需要更新\n   - 如package.json、setup.py等\n\n### 4. 代码质量检查\n4.1 静态扫描\n   - 运行markdownlint检查ReleaseNote格式\n   - 如遇规则冲突，更新.markdownlint.json配置\n\n4.2 格式修复\n   - MD041：首行应为一级标题（可禁用以保持h3格式）\n   - MD013：行长度限制（ReleaseNote可禁用）\n   - MD024：重复标题（多版本内容允许重复）\n\n### 5. 创建Git标签\n5.1 创建本地标签\n   - 命令：`git tag v<version>`\n\n5.2 推送标签到远程\n   - 命令：`git push origin v<version>`\n\n### 6. 验证发布\n6.1 验证版本号\n   - 确认pyproject.toml中的版本号已更新\n\n6.2 验证标签\n   - 命令：`git tag -l 'v<version>'`\n\n6.3 验证ReleaseNote\n   - 确认ReleaseNote.md开头有新版本内容\n\n## 注意事项\n\n1. **版本号语义化**\n   - 严格遵循语义化版本规范（SemVer）\n   - 不可随意跳号\n\n2. **ReleaseNote格式**\n   - 保持与历史版本一致的格式\n   - 使用清晰的章节标题和emoji图标\n   - 提供详细的变更描述\n\n3. **Git标签规范**\n   - 标签名格式：v<主版本>.<次版本>.<修订版>\n   - 标签应包含完整发布信息\n\n4. **代码提交**\n   - ReleaseNote和版本号更新应单独提交\n   - 提交信息应清晰说明版本更新\n\n5. **markdownlint配置**\n   - ReleaseNote可能需要禁用某些规则\n   - 常见禁用：MD013、MD024、MD041\n\n## 可选步骤\n\n1. **创建GitHub Release**\n   - 基于Git标签创建GitHub Release\n   - 复制ReleaseNote内容到Release描述\n\n2. **通知用户**\n   - 通过邮件、公告等渠道通知用户\n   - 说明版本更新内容和升级建议\n\n3. **更新文档**\n   - 更新安装文档中的版本号\n   - 更新版本历史页面\n\n## 工具推荐\n\n- **Git**: 版本控制和标签管理\n- **markdownlint**: Markdown格式检查\n- **Version管理工具**: 如npm version、bumpversion等（可选）",
  "scope": "global"
}