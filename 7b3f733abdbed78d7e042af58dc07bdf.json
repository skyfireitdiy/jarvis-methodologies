{
  "problem_type": "Rust函数审查修复方法论",
  "content": "问题重述：在Rust代码审查中发现函数存在安全隐患（空指针、越界、悬垂指针）或功能不完整，需要最小化修复。\n\n可复用解决流程：\n1. **安全审查阶段**：\n   - 使用lsp_client定位问题符号和引用\n   - 检查所有裸指针操作位置\n   - 识别悬垂指针风险（特别是测试用例）\n\n2. **修复实施阶段**：\n   - 优先修复严重安全问题（空指针、越界）\n   - 实现缺失功能时保持接口兼容\n   - 为裸指针添加null检查和边界验证\n   - 测试用例使用静态数据避免生命周期问题\n\n3. **验证阶段**：\n   - 运行`cargo test -- --nocapture`验证所有测试\n   - 如测试失败，优先修复测试用例而非修改主逻辑\n   - 确保修复不破坏向后兼容\n\n注意事项：\n- 修复后必须验证所有测试通过\n- 保持最小变更，避免重构\n- 测试用例中的局部变量改为静态数据\n- 添加中文注释说明修复原因\n\n可选步骤：\n- 如需要，补充边界测试用例\n- 考虑添加性能基准测试"
}