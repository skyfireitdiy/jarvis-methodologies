{
  "problem_type": "git仓库自动更新检测",
  "content": "问题重述: 如何在程序启动时自动检测并更新git仓库代码\n\n最优解决方案:\n1. 使用find_git_root工具查找git仓库根目录\n2. 使用has_uncommitted_changes工具检查是否有未提交修改\n3. 如果有未提交修改，终止更新并提示用户\n4. 使用git fetch获取远程更新\n5. 使用git rev-list比较本地与远程分支差异\n6. 如果有更新，使用git pull拉取最新代码\n7. 提供友好的用户提示信息\n\n注意事项:\n1. 确保在正确的git根目录执行命令\n2. 必须先检查未提交修改，避免覆盖用户工作\n3. 需要处理各种可能的git错误情况\n4. 提供清晰的用户反馈\n\n可选步骤:\n1. 可以添加用户确认步骤，在更新前询问\n2. 可以支持自定义分支名称，而不仅限于main分支"
}