{
  "problem_type": "代码功能扩展",
  "content": "# 代码功能扩展方法论\n\n## 问题重述\n如何在现有代码中安全地添加新功能\n\n## 最优解决方案\n1. 使用read_code工具分析现有代码结构(工具: read_code)\n2. 确定需要修改的位置和内容\n3. 使用PATCH工具进行精确修改(工具: PATCH)\n4. 确保新功能与现有代码风格一致\n5. 验证修改后的功能\n\n## 注意事项\n1. 修改前必须备份原文件\n2. 保持代码风格一致性\n3. 确保新功能与现有功能兼容\n4. 添加适当的错误处理\n5. 修改后必须验证功能\n\n## 新增注意事项(针对历史记录功能)\n6. 添加历史记录功能时需注意:\n   - 确保历史记录目录可写\n   - 使用时间戳命名历史文件避免冲突\n   - 考虑历史记录的清理机制\n   - 确保敏感信息不会记录在历史中\n\n## 可选步骤\n1. 对于复杂功能，可以先创建原型进行验证\n2. 可以添加功能开关配置\n3. 对于团队项目，可以进行代码评审"
}