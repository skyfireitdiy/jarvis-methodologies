{
  "problem_type": "Rust边界检查模式",
  "content": "问题重述：\n在将C代码迁移到Rust时，需要处理C中隐含的边界安全问题，特别是整数溢出、栈下溢等问题。\n\n可复用解决流程：\n1. **识别风险点**：查找所有涉及减法、数组访问、计数器操作的地方\n2. **分析边界条件**：确定最小值、最大值、空值等边界情况\n3. **添加边界检查**：在操作前验证边界条件\n4. **错误处理**：使用Result类型返回明确的错误信息\n5. **测试验证**：编写边界值测试用例\n\n具体模式：\n- 栈深度减少：`if *depth <= 0 { return Err(\\\"栈下溢\\\") }`\n- 数组索引：`if index >= len { return Err(\\\"索引越界\\\") }`\n- 计数器递减：`if counter == 0 { return Err(\\\"计数器下溢\\\") }`\n\n工具使用：\n- 使用`read_code`分析现有代码\n- 使用`edit_file`添加边界检查\n- 使用`cargo test`验证修复\n\n注意事项：\n- 保持最小改动原则\n- 中文错误信息符合项目规范\n- 测试用例应覆盖边界情况"
}