{
  "problem_type": "在未知远程系统上交互式执行任务",
  "content": "# 问题重述\n当需要在不熟悉的远程系统（如专用服务器、网络设备、基站等）上执行一系列特定操作，但操作流程和具体命令不明确或可能不准确时，如何通过交互式探索来完成任务。\n\n# 最优解决方案\n1.  **信息保存 (`save_memory`)**:\n    -   在开始之前，使用 `save_memory` 工具将所有已知信息（IP地址、用户名、密码、操作目标、指令片段等）完整记录到长期记忆中。这可以防止信息丢失，并便于在执行过程中随时查阅。\n\n2.  **建立连接 (`virtual_tty`)**:\n    -   使用 `virtual_tty` 的 `launch` 操作启动一个虚拟终端，为交互式会话做准备。\n    -   使用 `send_keys` 发送SSH或Telnet命令，连接到目标系统。\n    -   在收到密码提示后，再次使用 `send_keys` 输入密码。\n\n3.  **环境探索与验证**:\n    -   登录成功后，仔细观察命令提示符、欢迎信息和目录结构，以判断当前所处的环境（例如，从 `itran@VSWC2:~#` 推断出当前可能在VSW环境中）。\n    -   尝试执行用户指令中提到的关键命令（例如，进入某个容器或执行特定脚本）。\n    -   如果命令失败（如 `command not found`），则使用标准的Linux命令（如 `ls -la`, `env`, `find / -name \"*tool_name*\"`）来寻找正确的工具或脚本路径。\n\n4.  **进入专用Shell/工具 (`virtual_tty`)**:\n    -   一旦找到并确认了目标工具（例如 `ushell`），执行它以进入专用环境。\n    -   进入后，第一时间查找并阅读帮助信息（通常通过 `help`, `?` 命令或入口提示信息获得），理解其基本命令集。\n\n5.  **在专用Shell中执行操作**:\n    -   根据帮助文档，使用专用环境内的命令（如 `ps`, `sc`）来查找目标进程。\n    -   使用推荐的命令（如 `pad <pid>`, `sl <index>`）来附加或控制目标进程。\n\n6.  **适应性排错与重试**:\n    -   如果一个方法失败（例如 `pad <pid>` 失败），不要固执己见。应根据错误信息和帮助文档，尝试其他可能性（例如，改用 `sc` 和 `sl`）。\n    -   如果发现当前环境（如VSW）无法完成任务，应根据初始信息（如“vbp是下一个环境”）尝试切换环境。首先退出当前专用工具，然后尝试执行环境切换命令（如 `vbp`）。\n    -   如果直接的切换命令也失败，可以考虑系统是否使用了容器技术，并尝试使用 `docker ps`, `lxc list` 等命令来探查系统架构。\n\n7.  **任务中止与清理 (`clear_memory`, `virtual_tty`)**:\n    -   如果所有尝试都失败，或者用户指示流程有误，应优雅地中止任务。\n    -   使用 `clear_memory` 清除为本次错误流程创建的方法论或临时记忆。\n    -   使用 `virtual_tty` 的 `close` 操作关闭终端会话，释放资源。\n\n# 注意事项\n- **指令可能不准确**: 用户提供的初始指令可能基于记忆，存在偏差或遗漏。执行时需保持灵活性，将指令作为“目标”而非“绝对命令”。\n- **环境识别**: 远程系统可能包含多个隔离的环境（物理机、虚拟机、容器）。准确识别当前环境是成功执行任务的关键。\n- **专用工具的独特性**: 专用工具（如`ushell`）的行为可能与标准Shell完全不同。必须依赖其自身的帮助文档，而不是通用知识。\n- **失败是探索的一部分**: 在不熟悉的系统上，初次尝试失败是正常的。关键是从失败中获取信息，形成新的假设并进行验证。\n- **及时求助**: 如果多次尝试后仍然卡住，应使用 `ask_user` 向用户报告当前困境和已尝试的方案，请求下一步指导。"
}