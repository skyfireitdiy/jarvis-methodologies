{
  "problem_type": "Rust函数位置错误修复",
  "content": "## 问题重述\nRust函数被错误地放在测试模块内部（#[cfg(test)]块中），导致在正常编译时不可用，仅能在测试构建中访问。\n\n## 可复用解决流程\n\n### 步骤1：问题诊断\n1. 使用 `lsp_client` 搜索函数符号确认位置\n2. 检查是否位于 `#[cfg(test)]` 模块内\n3. 验证函数在测试用例中的调用情况\n\n### 步骤2：依赖分析\n1. 检查函数调用的所有依赖（use声明、被调函数）\n2. 确认依赖函数是否也在模块级可用\n3. 识别需要添加的use声明\n\n### 步骤3：安全迁移\n1. 使用 `read_code` 读取完整函数实现\n2. 使用 `edit_file` 从测试模块中删除函数\n3. 在模块级适当位置重新插入函数\n4. 更新必要的use声明\n\n### 步骤4：测试验证\n1. 运行 `cargo test` 确保所有测试通过\n2. 检查测试模块是否需要 `use super::function_name`\n3. 验证非测试代码是否能正常调用该函数\n\n### 注意事项\n- 保持函数签名不变，避免破坏现有接口\n- 确保所有依赖正确导入\n- 测试用例可能需要更新import路径\n- 优先使用精确匹配进行文本替换\n\n### 可选步骤\n- 如有大量重复依赖，可考虑集中管理use声明\n- 检查是否需要添加文档注释"
}