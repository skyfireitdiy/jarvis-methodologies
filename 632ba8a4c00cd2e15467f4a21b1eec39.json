{
  "problem_type": "迭代式文档修改与完善",
  "content": "### 问题重述\n用户需要对一个文档进行一系列的修改，但需求并非一次性提出，而是在多轮交互中逐步明确、调整和补充的。任务从简单的删除内容开始，逐步演变为替换、重写，最终扩展为对整个文档进行详细内容的全面扩充。\n\n### 最优解决方案\n这种任务的核心是拥抱变化，将修改过程视为一个与用户持续对齐的迭代循环。\n\n1.  **理解初步需求与首次修改 (Read & Edit)**:\n    - 使用 `read_code` 工具完整读取文档内容，建立初步理解。\n    - 根据用户的首个请求，使用 `edit_file`（用于局部修改）或 `rewrite_file`（用于大块重写）执行初版修改。\n\n2.  **处理执行失败 (Debug & Retry)**:\n    - 在使用 `edit_file` 进行多处修改时，可能会因为前一个修改导致后一个修改的 `SEARCH` 块失效而失败。\n    - **解决方案**: 立即使用 `read_code` 重新读取文件获取最新内容，然后基于新内容调整并重试失败的 `edit_file` 操作。\n\n3.  **接收反馈与进入迭代循环 (Loop)**:\n    - 在完成一个阶段的修改后，向用户确认结果，并准备接收新的指令。\n    - 对于用户提出的每一个新需求（如“再把XX也删掉”、“把XX部分换成YY”、“为全文补充详细文案”），都重复以下循环：\n        a. **重新对齐 (Read)**: 如有必要（特别是当修改跨度较大时），再次使用 `read_code` 确保操作是基于最新版本的文档。\n        b. **精确执行 (Edit/Rewrite)**: 根据新需求，选择最合适的工具。\n            - `edit_file`: 用于精确、小范围的调整，如修改标题、删除段落。\n            - `rewrite_file`: 用于大规模的重写和内容扩充，如此次任务中最后一步“为全文补充详细文案”。\n\n4.  **最终确认 (Confirm)**:\n    - 当用户明确表示“完成”或对最终结果满意时，结束任务。\n\n### 注意事项\n- **预判迭代**: 文档处理任务极少一步到位，要有与用户进行多轮沟通的准备。\n- **工具选择**: 针对不同的修改范围选择最合适的工具是提高效率的关键。`edit_file` 适合“外科手术式”的精确修改，而 `rewrite_file` 适合“推倒重来式”的全面重构。\n- **上下文刷新**: 在连续执行多个 `edit_file` 操作或在用户提出重大修改后，及时使用 `read_code` 刷新对文件的认知，是避免错误的最佳实践。"
}