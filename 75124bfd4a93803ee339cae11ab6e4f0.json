{
  "problem_type": "C到Rust代码移植调试",
  "content": "## C到Rust代码移植调试方法论\n\n### 问题重述\n将C语言实现的编译器/解释器移植到Rust时，需要确保功能等价且所有测试通过。\n\n### 可复用解决流程\n\n#### 1. 快速定位阶段\n- 运行测试：`cargo test -- --nocapture`\n- 识别失败测试：注意测试名称和失败信息\n- 查看C源码：使用`read_symbols`获取原始C实现参考\n\n#### 2. 问题分析阶段\n- 使用`read_code`读取失败测试相关的Rust实现\n- 对比C源码和Rust实现的差异\n- 检查类型转换、边界条件、异常处理\n\n#### 3. 修复实施阶段\n- 优先修复编译错误\n- 然后修复测试失败\n- 保持最小改动原则，避免大范围重构\n- 添加必要的调试信息辅助验证\n\n#### 4. 验证阶段\n- 运行完整测试套件：`cargo test -- --nocapture`\n- 检查是否有回归问题\n- 确保所有测试通过\n\n#### 5. 工具组合使用\n- `read_code`：读取源码\n- `execute_script`：运行测试命令\n- `edit_file`：精确修改代码\n- `lsp_client`：符号分析\n\n### 注意事项\n- 保持C和Rust实现的语义等价\n- 注意平台相关宏定义的差异\n- 测试用例可能包含特定平台的假设\n- 修复后必须验证所有测试，避免引入新问题\n\n### 可选步骤\n- 添加临时调试输出验证中间状态\n- 运行特定测试：`cargo test test_name -- --nocapture`\n- 使用`cargo check`快速验证编译"
}