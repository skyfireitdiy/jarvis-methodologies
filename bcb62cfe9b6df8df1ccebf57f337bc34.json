{
  "problem_type": "安全漏洞分析方案文档撰写",
  "content": "问题重述:\n- 面向“下次遇到同类任务”，如何基于 Agent 定义文件与系统架构文档，撰写面向决策者的方案介绍文章，覆盖：项目概述与定位、方案整体流程、架构与关键实现、真实数据与量化效益、部署与本地化、可扩展性设计、创新性、推广价值八个章节。\n\n可复用解决流程（建议工具与动作）:\n1. 定位目标材料（项目介绍与定位）\n   - 使用 execute_script 执行 ls/rg，确认关键文档路径（如 docs/jarvis_book/3.核心概念与架构.md、builtin/agent/<agent>.yaml），避免无关输出。\n2. 阅读权威定义与能力边界\n   - 使用 read_code 精读 Agent 的 YAML 定义，提取角色定位、职责边界、输入输出、可用工具与沟通风格。\n3. 反向定位相关实现与入口（code_analysis）\n   - 使用 execute_script 的 fd/rg 搜索包含 Agent 名称的实现文件、注册入口、主运行方法与测试清单，形成代码阅读列表。\n4. 梳理系统架构与工作流（多Agent系统代码分析）\n   - 使用 read_code 阅读架构文档关键章节（运行循环、ToolRegistry、MemorySystem、时序图、伪代码），提炼流程与关键事件（BEFORE/AFTER_TOOL_CALL 等）。\n5. 记录沉淀（信息复用）\n   - 使用 save_memory 将背景、架构要点、真实指标与输出路径按标签保存（project_long_term/global_long_term），便于后续检索与复用。\n6. 生成成稿大纲与骨架（技术方案汇报材料）\n   - 明确八大章节结构，将已提炼要点映射到各章节，确保面向非技术/半技术决策者的可读性与价值导向。\n7. 撰写并生成 Markdown 报告\n   - 使用 rewrite_file 生成标准化文档（建议路径 docs/solutions/<Agent>_Intro.md），按既定结构填充内容，引用真实指标与数据。\n8. 审阅与交付\n   - 使用 read_code 或 execute_script(cat) 输出全文进行快速审阅，校验章节完整性与指标准确性。\n9. 可选增强：可视化与发布\n   - 使用 generate_plantuml_diagram 生成架构/流程图；必要时使用 create_icenter_page 发布至知识库或内网门户。\n10. 迭代与确认\n    - 使用 ask_user 收集反馈与业务诉求（部署环境、合规要求、客户场景），再用 rewrite_file 快速修订，形成对外版与内部技术版两个版本。\n\n注意事项:\n- 严格遵守单步工具调用与标签格式（TOOL_CALL 起止标签需完整且行首）。\n- 控制输出体量：长输出使用工具的自动上传/智能截断机制，避免上下文溢出。\n- 指标可信：真实数据需可追溯（对象、数量、准确率、可行动性比例等），避免夸大。\n- 面向决策者：强调价值、可行动性与落地路径，减少过度技术细节。\n- 合规审查：遵守代码访问与隐私合规；执行脚本遵循最小权限与确认（execute_tool_confirm）。\n\n可选步骤与适用场景:\n- 内网/离线场景：禁用或替代 search_web，改用内网 CVE 数据源或导入资料。\n- CI/CD 集成：以增量扫描输出为依据，周期性更新报告；结合 TaskAnalyzer 沉淀团队方法论。\n- 领域定制：针对特定语言/框架扩展规则与检测器，或注册 MCP 工具接入专业分析服务。"
}