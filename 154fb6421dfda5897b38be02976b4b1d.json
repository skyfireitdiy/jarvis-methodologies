{
  "problem_type": "Rust测试超时诊断与修复",
  "content": "### 问题重述\nRust测试用例运行超时或无限循环，表现为测试长时间不结束或命令执行超时。\n\n### 可复用解决流程\n\n**阶段1：问题识别**\n1. 运行测试命令：`cargo test -- --nocapture <test_name>`\n2. 观察是否出现\"has been running for over X seconds\"提示\n3. 如果测试卡住，使用Ctrl+C中断，记录超时的测试用例名称\n\n**阶段2：定位死循环**\n1. 检查测试用例设置：\n   - 查看测试用例中的输入参数\n   - 确认循环边界条件是否合理\n   - 检查是否有变量未正确更新\n\n2. 分析被测函数：\n   - 查找while/for循环条件\n   - 检查循环变量是否向终止条件推进\n   - 特别注意边界值（0、1、最大值）的处理\n\n**阶段3：修复策略**\n1. **添加终止条件**：在循环中添加`if diff == 0 { break; }`等边界检查\n2. **修正循环条件**：确保循环条件能够最终变为false\n3. **修正变量更新**：确保循环变量在每次迭代中正确更新\n4. **区分处理特殊情况**：如内联文件、空边界等特殊case\n\n**阶段4：验证修复**\n1. 重新运行超时的测试用例：`cargo test <test_name> -- --nocapture`\n2. 运行完整测试套件：`cargo test -- --nocapture`\n3. 确保修复不引入回归问题\n\n### 注意事项\n- 优先分析小数值测试用例，更容易暴露边界问题\n- 对于文件系统相关测试，注意size=0或pos=size的边界条件\n- 添加调试输出帮助定位：`println!(\"pos={}, size={}, diff={}\", pos, size, diff);`\n- 修复后及时清理调试代码\n\n### 可选步骤\n- 使用`timeout`命令限制测试运行时间：`timeout 30 cargo test...`\n- 使用`cargo test --lib`只运行库测试，加快调试速度\n- 使用`RUST_LOG=debug`环境变量获取更多日志信息"
}