{
  "problem_type": "创建规则入口文档",
  "content": "## 问题重述\n需要在规则目录中创建一个入口文档，列出所有规则的名称、用途和路径。为了确保规则目录位置变化时路径自动更新，应使用 Jinja2 模板语法的变量动态生成路径，避免硬编码。\n\n## 可复用解决流程\n\n### 步骤 1：分析现有规则文件\n- 使用 `find` 或 `ls` 命令列出规则目录下的所有 `.md` 文件\n- 使用 `read_code` 工具读取规则文件，提取每个规则的标题（H1）和简介内容\n\n### 步骤 2：确定文件格式\n参考用户提供的示例格式：\n```\n1. 规则名称，用于规则的用途。（{{ rule_file_dir }}/filename.md）\n```\n或更详细的格式：\n```\n### 规则标题\n\n- **文件路径**: `{{ rule_file_dir }}/filename.md`\n- **用途**: 规则用途\n- **简介**: 规则简介\n```\n\n### 步骤 3：编写入口文档内容\n- 使用列表或表格格式组织所有规则\n- 每个规则项包含：规则名称、用途、简介（可选）\n- 使用 `{{ rule_file_dir }}` 变量生成动态路径\n- 格式：`{{ rule_file_dir }}/规则文件名.md`\n\n### 步骤 4：添加使用说明章节\n在文档末尾添加使用说明，包括：\n- 如何查看规则详情\n- 动态路径的说明\n- 可用的 Jinja2 变量列表\n- 相关文档链接\n\n### 步骤 5：创建文件\n使用 `edit_file` 工具创建入口文档文件（如 `builtin_rules.md`）\n\n### 步骤 6：验证\n- 检查文件格式是否符合要求\n- 运行静态扫描（如 markdownlint）确保没有错误\n- 如有行长度错误，可在文件开头添加 `{# markdownlint-disable MD013 #}`\n\n## 可用的 Jinja2 变量\n\nJARVIS 规则系统支持以下变量：\n- `{{ rule_file_dir }}`: 规则文件所在目录\n- `{{ current_dir }}`: 当前工作目录（绝对路径）\n- `{{ script_dir }}`: 脚本所在目录\n- `{{ git_root_dir }}`: Git 仓库根目录\n- `{{ jarvis_data_dir }}`: jarvis 数据目录\n- `{{ jarvis_src_dir }}`: jarvis 源码目录\n\n## 注意事项\n\n1. **变量自动渲染**：`{{ rule_file_dir }}` 等变量会在规则加载时自动渲染为实际路径\n2. **路径格式**：使用 `{{ rule_file_dir }}/filename.md` 格式，变量后直接跟斜杠和文件名\n3. **避免硬编码**：不要直接写死路径，必须使用变量\n4. **文件位置**：入口文档应放在规则目录的根目录\n5. **格式一致性**：所有规则项的格式应保持一致\n6. **编号清晰**：使用数字编号便于引用\n7. **简介简洁**：每个规则的简介应简洁明了，突出核心用途\n\n## 可选步骤\n\n如果规则数量较多，可以考虑：\n- 按用途分类（如：架构设计、代码质量、安全规范等）\n- 使用表格格式更清晰展示\n- 添加搜索建议或使用说明\n\n## 示例参考\n\n完整的示例文件请参考 `docs/best_practices/rules_best_practices.md`，其中详细介绍了规则系统的使用方法和 Jinja2 语法。",
  "scope": "global"
}