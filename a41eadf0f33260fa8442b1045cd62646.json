{
  "problem_type": "Rust实现C转义字符解析器",
  "content": "|||问题重述：\n在Rust项目中实现C标准转义字符解析器，需要支持标准转义字符、八进制、十六进制和Unicode转义，并提供完整的错误处理和测试覆盖。\n\n可复用解决流程（步骤化+工具）：\n1. **需求分析**：明确需要支持的转义序列类型（标准、八进制、十六进制、Unicode）\n2. **函数设计**：设计parse_escape_sequences(input: &str) -> Result<Vec<char>, EscapeError>函数签名\n3. **错误类型定义**：创建EscapeError枚举，包含UnknownEscape, InvalidOctal, InvalidHex等变体\n4. **核心实现**：\n   - 使用字符迭代器处理输入\n   - 匹配转义前缀'\\'后的字符\n   - 分别处理不同类型的转义序列\n5. **Unicode处理**：\n   - 使用u32::from_str_radix解析十六进制值\n   - 使用char::from_u32安全创建Unicode字符\n   - 验证Unicode标量值范围（0-0x10FFFF）\n6. **UTF-16编码**：创建encode_utf16(chars: &[char]) -> Vec<u8>函数处理代理对\n7. **测试策略**：\n   - 测试所有标准转义字符\n   - 测试八进制和十六进制边界值\n   - 测试Unicode转义（BMP和辅助平面字符）\n   - 测试错误情况和边界条件\n8. **验证步骤**：\n   - cargo check确保无编译错误\n   - cargo test运行所有测试用例\n   - 特别关注错误处理测试用例\n\n注意事项：\n- 使用Rust标准库，避免外部依赖\n- 正确处理代理对（surrogate pairs）\n- 验证Unicode值的有效性\n- 提供详细的错误信息\n- 考虑性能优化（避免不必要的字符串分配）\n\n可选步骤：\n- 添加性能基准测试\n- 支持更复杂的转义序列（如\\UXXXXXXXX）\n- 提供流式解析器接口|||"
}