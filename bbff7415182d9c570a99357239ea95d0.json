{
  "problem_type": "代码重构-提取公共函数到新模块",
  "content": "# 提取公共函数到新模块\n\n## 适用场景\n当多个模块使用相同的函数时，需要将其提取到公共模块以提高代码复用性。\n\n## 解决流程\n\n### 1. 创建公共模块\n- 在合适的目录下创建新模块文件\n- 将目标函数及其依赖的辅助函数一起移动\n- 添加完整的文档字符串和类型注解\n- 保持原有逻辑完全不变\n\n### 2. 更新导入语句\n- 使用 rg/grep 搜索所有使用该函数的地方\n- 逐个更新导入语句，从新模块导入\n- 确保导入路径正确\n\n### 3. 验证无遗漏\n- 运行 rg 搜索确认所有调用处都已更新\n- 执行完整的导入测试，确保无语法错误\n- 进行回归测试，验证所有功能正常\n\n### 4. 清理原文件\n- 删除原文件中的函数定义\n- 删除不再需要的导入\n- 更新 __init__.py（如果需要重新导出）\n\n## 注意事项\n- 确保函数签名完全一致，保持向后兼容\n- 处理循环导入问题\n- 注意辅助函数的依赖关系\n- 保留完整的错误处理逻辑\n\n## 验证步骤\n1. 检查所有 Python 文件导入是否正常\n2. 测试所有使用该函数的功能\n3. 验证错误处理依然有效\n4. 确认无循环导入",
  "scope": "global"
}