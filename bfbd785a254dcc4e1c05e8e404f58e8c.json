{
  "problem_type": "Rust编译错误修复与测试验证方法论",
  "content": "# Rust编译错误修复与测试验证方法论\n\n## 问题重述\n在Rust项目中遇到编译错误（如属性位置错误、借用检查错误）以及功能测试失败时，如何系统性定位和修复问题。\n\n## 可复用解决流程\n\n### Phase 1: 编译错误修复\n1. **获取完整错误信息**\n   - 使用`execute_script`运行`cargo test -- --nocapture`\n   - 记录所有编译错误类型和位置\n\n2. **错误分类处理**\n   - **属性位置错误**：识别内联(`#![...]`)vs外部(`#[...]`)属性使用场景\n   - **借用检查错误**：检查`ref` vs `ref mut`模式匹配\n   - **类型错误**：分析生命周期和所有权问题\n\n3. **精确修改**\n   - 使用`edit_file`进行最小必要改动\n   - 每次修改后运行`cargo check`快速验证\n\n### Phase 2: 功能验证\n1. **运行完整测试**\n   - `cargo test -- --nocapture`\n   - 识别失败的测试用例\n\n2. **定位功能缺陷**\n   - 分析测试失败的具体断言\n   - 使用`read_code`检查相关实现逻辑\n   - 对比参考实现（如C源码）\n\n3. **迭代修复**\n   - 针对失败的测试用例进行调试\n   - 保持修改最小化，避免引入新问题\n\n## 注意事项\n- 优先修复编译错误，再处理功能测试\n- 每次修改后都要验证，确保不引入回归\n- 保留调试输出直到问题完全解决\n- 注意边界条件处理（如EOF、嵌套结构）\n\n## 可选步骤\n- 使用`cargo clippy`获取额外lint建议\n- 运行特定测试：`cargo test test_name -- --nocapture`\n- 添加临时调试输出辅助定位问题"
}