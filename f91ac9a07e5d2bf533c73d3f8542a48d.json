{
  "problem_type": "生成Git项目Release Note",
  "content": "### 问题重述\n如何根据Git仓库中自上一个版本（tag）以来的代码变更，自动生成结构化的版本发布说明（Release Note）和相关的推广内容。\n\n### 最优解决方案\n1.  **检查工作区状态**: （可选）使用`execute_script`工具执行 `git status --porcelain`，确保没有未提交的更改，保证发布内容的完整性。如果存在未提交内容，提示用户先提交。\n2.  **获取最新版本号**: 使用`execute_script`工具执行 `git describe --tags \\`git rev-list --tags --max-count=1\\``，获取最新的tag作为比较基准。\n3.  **获取当前日期**: 使用`execute_script`工具执行 `date +\"%Y-%m-%d\"`，用于在Release Note中标记发布日期。\n4.  **提取详细代码变更**: 使用`execute_script`工具执行 `git diff <latest_tag>..HEAD | cat -`（其中`<latest_tag>`是上一步获取的版本号）。这一步是关键，它能提供最详细的代码级别变更。\n5.  **分析与生成**: 结合第四步获取的`diff`信息和关联的`commit`信息，进行综合分析，按“新功能”、“修复”、“重构”等类别进行归类，并生成结构化的Release Note和多种风格的推广文案。\n\n### 注意事项\n- **使用 `git diff` 而非 `git log`**: 为了生成高质量、内容详实的Release Note，应优先分析 `git diff` 的输出。它包含了代码层面的实际变化，比单纯的 `git log` 提交信息能提供更多细节和上下文。\n- **处理大型变更**: 如果 `git diff` 的输出过大，可能会超出处理上下文的限制。在这种情况下，可以考虑使用 `git log --stat` 作为备选方案，以获取一个折中的变更摘要。\n- **结合Commit信息**: 在分析`diff`时，应结合对应的commit message。Commit message通常解释了变更的“原因”（why），而`diff`展示了变更的“内容”（what），两者结合才能生成最准确的说明。"
}