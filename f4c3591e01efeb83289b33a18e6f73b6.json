{
  "problem_type": "TDD实现C函数Rust版本",
  "content": "问题重述：将C语言函数以TDD方式转换为Rust实现，保持语义等价\n\n可复用解决流程：\n1. **分析阶段**\n   - 使用`lsp_client`分析C函数签名和调用关系\n   - 确定Rust等价签名（遵循Rust调用约定）\n   - 识别关键语义参数（如对象式/函数式宏标识）\n\n2. **RED阶段 - 编写测试**\n   - 在目标文件底部添加`#[cfg(test)]`模块\n   - 设计测试用例：正常case、边界case、复杂输入case\n   - 测试断言使用`assert_eq!`或`assert!`验证行为\n   - 运行`cargo test`确保测试失败\n\n3. **GREEN阶段 - 实现功能**\n   - 实现空函数使测试编译通过\n   - 逐步填充实现逻辑\n   - 关键转换：\n     * C的`char*` → Rust的`&str`\n     * C的结构体 → Rust的struct初始化\n     * 错误处理：使用`unwrap_or`处理空输入\n\n4. **运行验证**\n   - `cargo test`运行所有测试\n   - `cargo fix`清理未使用导入\n   - 确保测试从失败→通过\n\n5. **REFACTOR阶段**\n   - 保持语义不变的前提下优化代码\n   - 添加中文注释说明关键逻辑\n   - 检查代码风格一致性\n\n注意事项：\n- 禁止在实现中使用`todo!()`或`unimplemented!()`\n- 保持与C版本的行为完全一致\n- 测试覆盖必须包括空输入边界case\n- 中文注释应简洁明了\n\n可选步骤：\n- 添加性能基准测试（如需要）\n- 文档注释和示例代码\n- 集成测试的补充验证"
}