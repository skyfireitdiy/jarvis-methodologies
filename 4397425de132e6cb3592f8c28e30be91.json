{
  "problem_type": "UTF-16编码测试验证",
  "content": "# UTF-16编码测试验证方法论\n\n## 问题重述\n为UTF-8到UTF-16编码转换函数添加全面的单元测试，确保覆盖边界值、特殊字符、性能测试等场景。\n\n## 可复用解决流程\n\n### 步骤1: 定位测试文件和函数\n- 使用工具: read_code\n- 检查文件: src/util/string.rs\n- 确认目标函数: `pub fn utf8_to_utf16(input: &str) -> Vec<u16>`\n\n### 步骤2: 评估现有测试覆盖\n- 使用工具: execute_script (cargo test test_utf8_to_utf16)\n- 确认已有测试: ASCII、BMP字符、代理对测试\n- 检查测试通过状态\n\n### 步骤3: 设计扩展测试用例\n必须包含以下5类测试：\n1. **代理对边界值测试** - 验证Unicode范围0x10000-0x10FFFF\n2. **组合字符测试** - 验证零宽连接符和多个组合字符\n3. **特殊符号测试** - 验证数学符号、版权符号等\n4. **多语言字符测试** - 验证不同语言字符集\n5. **大字符串性能测试** - 验证性能和空字符串边界\n\n### 步骤4: 实现和验证测试\n- 确保测试函数为顶层函数（不能嵌套）\n- 使用 #[test] 属性标记\n- 运行验证: cargo test test_utf8_to_utf16\n\n### 步骤5: 错误处理验证\n- 验证编译错误（如嵌套测试问题）\n- 处理运行时错误\n\n## 注意事项\n- 测试函数必须是顶层函数，禁止嵌套\n- UTF-16代理对编码范围：高代理0xD800-0xDBFF，低代理0xDC00-0xDFFF\n- 空字符串处理必须单独测试\n- 性能测试应包含大ASCII字符串和混合字符字符串\n\n## 可选扩展\n- Unicode规范化测试\n- 无效序列错误处理测试\n- 内存压力测试"
}