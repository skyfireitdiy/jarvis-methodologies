{
  "problem_type": "Rust测试辅助函数作用域修复",
  "content": "## 问题重述\n当Rust测试中的辅助函数定义在tests模块内部时，位于模块外部的测试用例无法访问这些函数，导致编译错误或测试失败。\n\n## 可复用解决流程\n\n### 步骤1: 识别问题\n- 运行cargo test查看编译错误\n- 确认错误类型为作用域访问问题（如\"function not found\"或\"private function\"）\n\n### 步骤2: 定位辅助函数\n- 使用read_code工具查看测试文件\n- 查找定义在`#[cfg(test)] mod tests { ... }`内部的辅助函数\n- 记录这些函数的名称和签名\n\n### 步骤3: 迁移函数到模块级作用域\n- 将辅助函数从tests模块内部移出到模块级作用域\n- 为函数添加`#[cfg(test)]`属性，确保只在测试时编译\n- 保持函数签名不变，避免破坏现有测试\n\n### 步骤4: 验证修复\n- 运行cargo test验证所有测试通过\n- 检查是否所有测试用例都能正确访问辅助函数\n- 确认无编译错误\n\n## 注意事项\n1. 保持函数的`pub`可见性，使所有测试都能访问\n2. 添加`#[cfg(test)]`属性避免在生产代码中包含测试代码\n3. 如果函数在多个模块中使用，考虑放在tests/common.rs中\n\n## 可选步骤\n- 对于大型项目，可以创建tests/common.rs文件集中管理测试辅助函数\n- 使用use语句在测试模块中导入辅助函数，保持代码整洁"
}