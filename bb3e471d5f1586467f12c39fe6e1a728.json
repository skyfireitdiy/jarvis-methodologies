{
  "problem_type": "更新项目规则文档",
  "content": "## 问题重述\n在编写或更新项目规则文档（如 builtin/rules/*.md）时，需要保持文档风格一致，并遵循既定规范。这通常包括：参考现有文档的格式、使用统一的 jinja2 变量语法、确保通过 markdownlint 检查等。\n\n## 可复用解决流程\n\n### 步骤 1：分析参考文档\n1. 读取项目中的同类规则文件（如 add_rule.md）作为参考\n2. 分析文档结构：标题层级、小节编号格式、列表风格等\n3. 识别 jinja2 变量使用方式（如 {{ git_root_dir }}）\n4. 注意特殊格式要求（如代码块、表格、高亮文本）\n\n### 步骤 2：规划修改内容\n1. 确定需要修改的位置和内容\n2. 保持与参考文档一致的风格\n3. 如需添加新小节，考虑编号顺序调整\n4. 在检查清单中添加相应的验证项\n\n### 步骤 3：执行精确修改\n1. 使用 edit_file 工具的 search/replace 功能\n2. 提供足够的上下文确保唯一匹配\n3. 逐步修改，每次只处理一个部分\n4. 避免使用 sed 或大范围替换\n\n### 步骤 4：验证和提交\n1. 使用 markdownlint 检查格式正确性\n2. 读取修改后的内容确认无误\n3. 保存相关记忆到项目长期记忆\n4. 系统会自动提交修改\n\n## 注意事项\n\n1. **格式一致性**：\n   - 标题使用 # ## ### 分级\n   - 列表使用 - 或 1. 保持统一\n   - 代码块使用 ```language 指定语言\n   - 关键词使用 **加粗** 强调\n\n2. **jinja2 变量使用**：\n   - 变量格式：{{ variable_name }}\n   - 常用变量：git_root_dir, rule_file_dir, current_dir\n   - 在规则文档中无需使用 {% raw %} 标签\n\n3. **编号规范**：\n   - 新增小节时调整后续编号\n   - 保持编号连续性和逻辑性\n\n4. **编辑安全**：\n   - search 文本必须包含足够的上下文\n   - 避免过短的搜索文本\n   - 修改后立即验证\n\n## 可选步骤\n\n如果项目有特定的目录结构要求：\n- 确保文件路径使用 jinja2 变量\n- 提供明确的命名规范\n- 给出正反示例说明\n\n如果需要添加检查清单：\n- 在\"执行检查清单\"部分添加相应项\n- 确保检查项清晰、可验证\n- 与其他检查项保持风格一致",
  "scope": "global"
}