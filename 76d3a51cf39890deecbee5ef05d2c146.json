{
  "problem_type": "Rust项目重复函数定义清理",
  "content": "# Rust项目重复函数定义清理方法论\n\n## 问题重述\n在Rust项目中（特别是C转译项目），出现同名函数的多个实现，需要保留一个完整版本，删除冗余版本。\n\n## 可复用解决流程\n\n### 步骤1：发现阶段\n1. 使用`execute_script`搜索重复定义：\n   ```bash\n   grep -n \"fn 函数名\" src/**/*.rs | sort\n   ```\n2. 记录所有位置（行号+文件）\n\n### 步骤2：验证阶段\n1. 使用`read_code`读取每个定义附近的上下文（前后10行）\n2. 对比实现完整性（参数列表、match分支、错误处理）\n3. 标记最完整的版本\n\n### 步骤3：删除阶段\n1. 备份文件：`cp 文件路径 /tmp/backup_文件名`\n2. 使用`edit_file`删除冗余版本：\n   - 包含函数签名及完整函数体\n   - 保留空白行和注释格式\n3. 检查是否影响文档注释关联\n\n### 步骤4：验证阶段\n1. `cargo build`确保无编译错误\n2. `grep -n`确认只剩一个定义\n3. 检查调用点是否受影响\n\n## 注意事项\n- 优先保留参数最完整、功能最全面的版本\n- 注意文档注释的连续性，避免产生悬空doc注释\n- C转译项目常因代码生成工具产生重复，需检查是否是故意为之\n\n## 工具组合\n- read_code：精确定位和比较\n- edit_file：安全删除冗余代码\n- execute_script：编译验证和全局搜索"
}