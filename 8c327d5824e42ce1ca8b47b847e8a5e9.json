{
  "problem_type": "Rust测试字符串比较失败调试",
  "content": "## Rust测试字符串比较失败调试方法论\n\n### 问题识别\n当Rust测试出现字符串比较失败时，常见原因：\n1. 前导/尾随空格差异\n2. 换行符处理不一致\n3. 行数计算逻辑错误\n4. 字符串分割方式问题\n\n### 调试流程\n1. **复现测试**：`cargo test test_name -- --nocapture`\n2. **添加调试输出**：在测试中添加`eprintln!(\"DEBUG: actual={:?}\", actual)`\n3. **格式分析**：检查字节级差异`eprintln!(\"DEBUG: bytes={:?}\", actual.as_bytes())`\n4. **字符串处理验证**：\n   - 比较`lines()` vs `trim().lines()`\n   - 验证`format!()`输出格式\n5. **修正测试**：\n   - 调整字符串分割方式\n   - 更新期望行数\n   - 修正格式匹配\n\n### 关键注意事项\n- 避免使用`trim()`处理需要保留空格的字符串\n- 使用`lines()`而非`trim().lines()`保持原始格式\n- 对于循环生成的输出，按实际逻辑计算期望行数\n- 使用`format!()`动态生成期望字符串以提高可维护性"
}