{
  "problem_type": "规则文档批量重构",
  "content": "### 问题重述\n当builtin/rules目录中存在大量不符合统一格式的规则文件（如角色定义、工具说明等），需要批量重命名并重构内容，使其符合标准五章节规则文档格式。\n\n### 可复用解决流程\n\n1. **前期分析与规划**\n   - 使用`find builtin/rules -name \\\"*.md\\\" | grep -v builtin_rules.md`列出所有待处理文件\n   - 分类识别文件类型：角色定义类、工具生成器类、操作指南类、主题设计类\n   - 确定命名规范：全小写+连字符，描述性名称，禁止大写/下划线/空格\n\n2. **文件重命名执行**\n   - 优先使用`git mv old-file.md new-file.md`保持版本历史\n   - 按类别批量重命名：code-reverse-design-expert.md→code-reverse-design.md等\n   - 验证重命名结果：`git status --porcelain | grep -E '^R'`\n\n3. **内容结构重构**\n   - 统一采用五章节模板：工作流程、原则、要求、实践指导、检查清单\n   - 语言风格转换：将角色描述转为必须/禁止规范式语言\n   - 保留原有功能意图和技术细节，仅调整表达方式\n\n4. **索引文件同步更新**\n   - 更新builtin_rules.md中的所有文件链接\n   - 验证链接有效性：`grep -oE '\\\\[.*\\\\]\\\\(\\\\{\\\\{ rule_file_dir \\\\}\\\\}/[^)]+\\\\)' builtin_rules.md | sed 's/.*{{ rule_file_dir }}//' | while read f; do test -f \\\".${f}\\\" && echo \\\"OK: $f\\\" || echo \\\"MISSING: $f\\\"; done`\n   - 确保无死链，所有引用指向新文件名\n\n5. **质量验证与验收**\n   - 抽查重构后文件，确认五章节结构完整\n   - 验证必须/禁止语言风格一致性\n   - 对比关键设计要素、技术规范、数值标准未丢失\n\n### 注意事项\n- 重命名操作必须使用git mv，避免历史丢失\n- 内容重构时严禁删除原有功能点，仅做表达方式调整\n- 索引文件更新需全量验证，确保无遗漏链接\n- 保留原有技术参数和标准，如backdrop-blur范围、圆角值等\n\n### 可选步骤\n- 对复杂文件可先创建重构任务列表，分阶段处理\n- 使用模板文件（如sdd.md）作为格式参考\n- 建立命名映射表，便于后续追踪变更历史",
  "scope": "global"
}