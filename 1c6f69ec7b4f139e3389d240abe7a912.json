{
  "problem_type": "Rust项目clippy警告批量修复",
  "content": "# Rust项目clippy警告修复方法论\n\n## 问题重述\n当Rust项目存在大量clippy警告（特别是`cargo clippy -- -D warnings`失败）时，如何系统化、低风险地批量修复警告，同时保持功能不变。\n\n## 可复用解决流程\n\n### 1. 初始诊断阶段\n- 执行：`cargo clippy -- -D warnings`\n- 记录：警告总数、文件分布、主要警告类型\n- 工具：`execute_script`执行诊断命令\n\n### 2. 文件优先级排序\n- 优先修复：频繁出现的警告类型\n- 危险级别：语法错误类 > 风格类 > 可选优化类\n- 典型优先级：`unused_variables` > `non_snake_case` > `unnecessary_wraps`\n\n### 3. 分类修复策略\n#### A. 命名规范类（高优先级）\n- **non_snake_case**：变量/函数名改为snake_case\n- **工具**：`edit_file_normal` + `search_symbol`定位\n\n#### B. 语法优化类（中优先级）\n- **redundant_parentheses**：移除多余括号\n- **collapsible_if**：合并嵌套if语句\n- **unnecessary_wraps**：简化Result包装\n\n#### C. API使用类（中优先级）\n- **manual_range_contains**：替换为`Range::contains()`\n- **manual_ascii_check**：替换为`is_ascii_*()`方法\n- **manual_div_ceil**：使用`.div_ceil()`方法\n\n#### D. 未使用项类（低优先级）\n- **dead_code**：添加`#[allow(dead_code)]`或实际使用\n- **unused_imports**：清理无用导入\n\n### 4. 验证循环机制\n1. 每次修改后：`cargo clippy -- -D warnings`\n2. 定期验证：`cargo test`\n3. 提交粒度：每修复5-10个警告提交一次\n\n### 5. 安全回退策略\n- 批量修改前：创建临时备份\n- 文件级回退：使用`read_code`读取原始版本\n- 提交回退：`git reset --hard HEAD~1`\n\n## 注意事项\n- **最小改动原则**：仅修复警告，不引入功能变更\n- **风格一致性**：保持项目既有命名和注释风格\n- **中文注释**：保留原有中文注释，不做翻译\n- **测试覆盖**：修复后必须验证原有测试通过\n\n## 可选步骤\n- 自动生成修复清单：记录修复前后的代码片段\n- 代码审查：重点检查变量重命名后的引用一致性\n- 性能测试：对于涉及算法变更的修复"
}