{
  "problem_type": "repository_url_update",
  "content": "# 仓库URL更新方法论\n\n## 问题重述\n当项目需要更新仓库URL信息（如添加新的镜像仓库、更换主仓库等）时，需要在多个文件中同步更新相关引用，确保文档和配置文件保持一致。\n\n## 可复用解决流程\n\n### 第一步：定位需要更新的文件\n使用搜索工具查找包含旧URL的文件：\n```bash\n# 搜索包含github.com或gitee.com的文件\nrg -i 'github\\\\.com|gitee\\\\.com' --type md --type yaml --type toml --type json --type py -l\n```\n\n### 第二步：分析文件类型和更新策略\n根据文件类型确定更新策略：\n- **文档文件（Markdown）**：可以并列展示多个仓库链接，提供用户选择\n- **配置文件（setup.py、pyproject.toml）**：通常保持一个主URL，符合标准规范\n- **代码文件（Python等）**：根据实际需求决定是否更新\n\n### 第三步：读取并确认文件内容\n使用read_code工具读取每个文件，确认URL的具体位置和上下文：\n```python\n# 读取文件查看URL引用情况\nread_code(files=[{\"path\": \"README.md\"}])\n```\n\n### 第四步：执行更新\n使用edit_file工具进行精确替换，注意事项：\n1. 克隆命令：提供多个选项供用户选择\n2. 贡献指南：提及所有可用的仓库\n3. 配置文件：保持主URL不变（符合标准）\n4. 使用足够的上下文确保唯一匹配\n\n### 第五步：验证修改\n验证所有修改是否正确：\n```bash\n# 搜索新URL确认已添加\ngrep -n 'new-repo-url' path/to/file\n```\n\n## 注意事项\n\n### 1. 配置文件规范\n- setup.py 和 pyproject.toml 中的url字段通常保持单一主仓库\n- 这是PyPI等平台的标准要求，不支持多URL配置\n- GitHub通常作为主仓库（国际标准）\n\n### 2. 文档呈现方式\n- 克隆命令：提供选项，标注各仓库的适用场景（如\"国内访问更快\"）\n- 贡献指南：说明支持多个平台，用户可选择\n- 链接展示：使用列表或说明文字，清晰区分\n\n### 3. URL引用类型\n- **raw.githubusercontent.com**：用于脚本和配置文件，通常保持GitHub\n- **普通仓库URL**：克隆和访问，可以提供多个选项\n- **API/下载链接**：根据实际功能决定\n\n### 4. 格式一致性\n- 保持原文档的格式和风格\n- 确保Markdown语法正确\n- 维持代码块的缩进和换行\n\n## 可选步骤\n\n### 1. 批量更新多个URL\n如果需要更新多个类似的URL模式，可以：\n- 先创建完整的任务列表\n- 使用task_list_manager批量执行\n- 确保每个任务的search上下文唯一\n\n### 2. 更新安装脚本\n如果项目有安装脚本（如install.sh）：\n- 考虑是否需要支持选择仓库\n- 或者在脚本中提供参数让用户指定\n\n### 3. 更新CI/CD配置\n检查GitHub Actions、GitLab CI等配置：\n- 可能需要更新仓库引用\n- 镜像仓库可能需要单独的CI配置\n\n## 验证清单\n\n- [ ] 所有克隆命令都提供了多个选项\n- [ ] 贡献指南提及了所有可用仓库\n- [ ] 配置文件保持单一主URL\n- [ ] raw引用保持不变（如需要）\n- [ ] 格式一致，无语法错误\n- [ ] 搜索验证确认所有URL正确",
  "scope": "global"
}