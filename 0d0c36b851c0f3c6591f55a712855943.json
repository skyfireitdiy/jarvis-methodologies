{
  "problem_type": "Rust测试字符串断言失败分析",
  "content": "## Rust测试字符串断言失败分析方法论\n\n### 问题重述\n在Rust测试中，字符串比较断言（如assert_eq!）失败，需要快速定位变量值与预期值的差异。\n\n### 可复用解决流程\n\n**步骤1：复现失败**\n- 使用：cargo test 测试模块名::测试函数名 -- --nocapture\n- 目的：获取完整的测试输出和失败信息\n\n**步骤2：定位断言位置**\n- 阅读测试代码，找到具体的assert_eq!断言位置\n- 记录涉及的变量名和预期值\n\n**步骤3：调试变量值**\n- 在断言前添加调试输出：println!(\\\"实际值: {:?}, 预期值: {:?}\\\", 变量, 预期值)\n- 或使用dbg!宏：dbg!(&变量)\n\n**步骤4：差异分析**\n- 检查是否有：大小写差异、前后空格、特殊字符\n- 验证字符串来源：硬编码字面量 vs 动态生成\n- 检查变量赋值流程：从创建到使用的完整链路\n\n**步骤5：验证修复**\n- 修改代码后重新运行测试\n- 确保测试通过：test result: ok\n\n### 注意事项\n- Rust字符串比较区分大小写\n- 注意Unicode字符可能导致的显示一致但实际不同\n- 全局变量初始化顺序可能影响测试结果\n- 使用静态分析工具确保字符串字面量一致性\n\n### 可选步骤\n- 使用字符串相似度算法检查接近匹配\n- 添加自定义错误消息：assert_eq!(a, b, \\\"变量A应该等于'alloca', 但实际为'{:?}'\\\", a)\n- 考虑使用proptest进行属性测试验证边界情况"
}