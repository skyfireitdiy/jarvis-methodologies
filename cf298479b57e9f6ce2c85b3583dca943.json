{
  "problem_type": "代码行数精简",
  "content": "## 代码行数精简方法论\n\n### 问题重述\n在代码重构过程中，经常需要将文件的代码行数控制在一定范围内（如600行），以提高代码的可读性和可维护性。\n\n### 可复用解决流程\n\n**阶段1：现状分析**\n1. 使用`wc -l`命令检查文件当前行数\n2. 明确目标行数和需要减少的行数\n3. 使用`read_code`工具或`rg`命令分析文件结构\n4. 识别可精简的内容类型：\n   - 冗余的文档字符串（多行参数/返回值说明）\n   - 显而易见的注释\n   - 不必要的空行\n   - 重复的代码逻辑\n\n**阶段2：分步精简**\n1. **精简文档字符串**（优先级最高）\n   - 将详细的多行文档简化为单行描述\n   - 前提：方法签名已清晰表达意图\n   - 保留：关键的业务逻辑说明\n   - 删除：显而易见的参数/返回值说明\n\n2. **删除冗余注释**\n   - 删除：显而易见的代码说明（如# 创建任务对象）\n   - 保留：关键的业务逻辑说明、复杂的算法说明\n   - 原则：代码本身已足够表达时，注释即为冗余\n\n3. **减少空行**\n   - 删除方法之间多余的空行（保留1行分隔）\n   - 删除代码块内部过多的空行\n\n**阶段3：验证与迭代**\n1. 每次修改后立即运行测试确保功能完整性\n2. 使用`wc -l`检查进度\n3. 如果仍未达到目标，继续下一轮精简\n4. 必要时考虑更深层次的重构（提取方法、拆分类等）\n\n### 注意事项\n- 精简不是目的，可读性才是根本：不要为了减少行数而牺牲代码清晰度\n- 方法签名清晰时，文档字符串可以简化\n- 注释应该解释\"为什么\"而不是\"是什么\"\n- 每次修改后必须验证测试通过\n- 如果精简到极限仍未达标，应考虑架构层面的重构（拆分文件/模块）\n\n### 可选步骤（深度优化）\n如果简单精简无法达到目标，考虑：\n1. 提取重复代码到独立方法\n2. 拆分过大的类到多个文件\n3. 使用工具函数减少重复逻辑\n4. 应用设计模式优化代码结构",
  "scope": "global"
}