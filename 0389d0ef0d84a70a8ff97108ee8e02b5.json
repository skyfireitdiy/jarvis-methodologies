{
  "problem_type": "C-Rust转译一致性修复",
  "content": "|||方法论：C-Rust转译项目功能一致性修复\n\n## 问题重述\n在C到Rust的转译过程中，Rust实现的行为与原始C实现出现偏差，需要精确定位并修复这些功能一致性问题，确保转译后的代码在行为上与C实现完全一致。\n\n## 可复用解决流程\n\n### 1. 需求澄清阶段\n- **定位原始C源码**：使用read_symbols工具获取目标函数的C源码\n- **理解C实现行为**：逐行分析C代码的执行逻辑和边界条件\n- **明确修复目标**：确定Rust实现需要调整的具体行为点\n\n### 2. 行为差异分析\n- **对比审查**：将Rust实现与C源码进行逐行对比\n- **边界条件识别**：特别关注edge case和特殊输入的处理\n- **测试验证**：通过测试用例验证当前行为的差异\n\n### 3. 最小化修复实施\n- **精确定位**：确定Rust代码中需要修改的具体位置（行号范围）\n- **最小改动**：仅修改与C实现不一致的部分，避免重构\n- **行为对齐**：确保修改后的Rust代码与C实现行为完全一致\n\n### 4. 回归验证\n- **编译验证**：确保修复后代码能够成功编译\n- **测试通过**：运行所有相关测试用例，确保100%通过\n- **边界验证**：特别验证之前失败的边界条件\n\n### 5. 文档记录\n- **变更说明**：记录具体的修复内容和原因\n- **行为对比**：记录修复前后的行为差异\n- **验证证据**：保存测试通过的输出结果\n\n## 注意事项\n- **禁止重构**：只能进行最小必要修改，不允许重构或优化\n- **绝对一致性**：修复后的行为必须与C实现完全一致\n- **测试全覆盖**：修复后必须验证所有测试用例，包括间接受影响的测试\n- **安全回退**：修复前记录git commit，确保可以回退\n\n## 可选步骤\n- **性能验证**：如C实现有性能特性，验证Rust实现是否匹配\n- **内存行为检查**：验证内存使用和释放行为是否与C一致\n- **并发行为**：检查多线程环境下的行为一致性（如适用）|||"
}