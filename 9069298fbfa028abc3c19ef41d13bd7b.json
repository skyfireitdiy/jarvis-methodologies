{
  "problem_type": "python_package_code_not_updating",
  "content": "# 问题重述\n当修改了本地 Python 包的源代码后，即使重新安装（例如使用 `uv pip install .`），程序运行的依然是旧版本的代码，修改没有生效。\n\n# 最优解决方案\n此问题的核心原因是旧的构建缓存或包元数据未被清除。推荐使用可编辑模式（editable mode）安装，并遵循以下清理步骤：\n\n1.  **[可选] 卸载现有包**:\n    - **目的**: 清除环境中可能存在的旧版本包的入口点和元数据。\n    - **工具**: `execute_script`\n    - **命令**:\n      ```bash\n      # 将 <package_name> 替换为你的包名\n      uv pip uninstall <package_name>\n      ```\n\n2.  **清理构建缓存**:\n    - **目的**: 这是解决问题的关键步骤。删除所有旧的构建产物，确保下次安装时使用最新的源代码。\n    - **工具**: `execute_script`\n    - **命令**:\n      ```bash\n      # 在项目根目录下执行\n      find . -type d -name \"__pycache__\" -exec rm -rf {} +\n      find . -type d -name \"*.egg-info\" -exec rm -rf {} +\n      rm -rf build/\n      rm -rf dist/\n      ```\n\n3.  **以可编辑模式重新安装**:\n    - **目的**: 使用 `-e` 或 `--editable` 标志安装，这不会复制文件到 `site-packages`，而是创建一个指向项目源代码的链接，使得任何代码修改都能立即生效。\n    - **工具**: `execute_script`\n    - **命令**:\n      ```bash\n      # 在项目根目录下执行\n      uv pip install -e .\n      ```\n\n4.  **验证安装路径**:\n    - **目的**: 确认包已正确链接到本地源代码目录。\n    - **工具**: `execute_script`\n    - **命令**:\n      ```bash\n      # 将 <package_name> 替换为你的包名\n      uv pip list | grep <package_name>\n      ```\n    - **预期输出**: 输出的路径应为你当前项目的本地路径，而不是虚拟环境的 `site-packages` 目录。\n\n# 注意事项\n- **可编辑模式**: 在开发阶段，始终推荐使用可编辑模式安装本地包，这是避免此类问题的最佳实践。\n- **缓存是元凶**: 如果跳过第二步“清理构建缓存”，直接重装，问题很可能无法解决。\n- **工具差异**: 注意不同包管理工具（如 `pip` vs `uv`）的命令细节差异。例如，`uv` 的卸载命令不支持 `-y` 参数。"
}