{
  "problem_type": "Rust UTF-16字符串字面量解析实现",
  "content": "# Rust UTF-16字符串字面量解析实现方法论\n\n## 问题重述\n在Rust项目中实现UTF-16字符串字面量的解析功能，支持：\n- UTF-8到UTF-16的正确转换\n- 代理对处理超过U+FFFF的字符\n- 转义字符支持\n- 错误处理\n\n## 可复用解决流程\n\n### 步骤1：需求分析与技术调研\n- 使用`lsp_client.search_symbol`搜索现有字符串处理函数\n- 研究UTF-16编码规范（代理对机制）\n- 确定项目代码风格和依赖关系\n\n### 步骤2：环境准备\n- 检查并补充必要的依赖函数（如`ty_ushort()`）\n- 确认测试框架可用\n- 创建临时备份目录：`mkdir -p /tmp/backup`\n\n### 步骤3：核心实现\n1. **函数签名设计**：\n   ```rust\n   pub fn read_utf16_string_literal(start: &str, quote: &str) -> Result<Token, Error>\n   ```\n\n2. **UTF-16编码实现**：\n   - 字符转码点：`char as u32`\n   - 代理对处理：\n     - U+0000-U+FFFF：直接转换\n     - U+10000-U+10FFFF：拆分为高代理+低代理\n\n3. **转义字符处理**：\n   - 复用现有`read_escaped_char`函数\n   - 确保所有C风格转义序列支持\n\n### 步骤4：测试验证\n1. **基础测试**：\n   - ASCII字符串：`\"hello\"`\n   - 中文测试：`\"中文\"`\n   - 表情符号：`\"😀\"`\n\n2. **边界测试**：\n   - 空字符串：`\"\"`\n   - 引号转义：`\"\\\"\"`\n   - 未闭合字符串验证\n\n3. **执行验证**：\n   ```bash\n   cargo test -- --nocapture\n   ```\n\n### 步骤5：代码整理\n- 清理临时文件：`rm -rf /tmp/backup*`\n- 运行最终构建验证\n- 提交代码前检查git diff\n\n## 注意事项\n- 严格使用4空格缩进\n- 注释使用中文\n- 遵循项目既有命名规范\n- 保持最小改动原则\n\n## 可选步骤\n- 添加更多Unicode边界测试用例\n- 性能基准测试（大量字符串处理）\n- 文档补充（README中说明UTF-16支持）"
}