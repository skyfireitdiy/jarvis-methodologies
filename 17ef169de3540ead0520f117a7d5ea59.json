{
  "problem_type": "C 函数转译为 Rust（TDD方法）",
  "content": "## C 函数转译为 Rust（TDD 方法）\n\n### 问题描述\n将 C 语言函数转译为等价的 Rust 实现，保持语义一致性和功能等价。\n\n### 可复用解决流程\n\n#### 1. 需求分析阶段\n- 理解 C 函数的签名、参数、返回值\n- 识别函数依赖的外部符号（函数/变量）\n- 分析函数的边界条件和错误处理\n\n#### 2. 依赖处理阶段\n- 检查依赖函数是否已转译（RUST_IMPORTED 标记）\n- 按依赖顺序依次转译底层依赖函数\n- 使用 TDD 流程：先写测试，再实现\n\n#### 3. TDD 实现阶段\n- **Red**: 编写测试用例，覆盖：\n  - 主要功能路径\n  - 边界情况（空输入、极值等）\n  - 错误情况\n  - 与 C 实现的行为一致性\n- **Green**: 编写 Rust 实现使测试通过\n- **Refactor**: 优化代码，保持测试通过\n\n#### 4. 验证阶段\n- 运行专项测试：`cargo test <function_name>`\n- 运行完整测试套件：`cargo test --lib`\n- 清理临时文件\n\n### 注意事项\n- 常量与宏的值必须与原 C 程序保持一致\n- 不要将正式代码写到测试区域\n- 禁止使用 todo!/unimplemented!\n- 资源释放类函数可通过 RAII 自动管理\n- 保持最小变更，避免无关重构\n\n### 可选步骤\n- 清理项目中的历史临时文件（test_*.log, test_*.txt）"
}