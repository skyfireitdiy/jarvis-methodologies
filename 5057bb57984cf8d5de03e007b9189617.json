{
  "problem_type": "C转Rust函数行为一致性验证",
  "content": "# C转Rust函数行为一致性验证方法论\n\n## 问题重述\n在将C代码转译为Rust时，需要确保函数行为与原C实现完全一致，特别是涉及边界行为、资源管理和副作用的场景。\n\n## 可复用解决流程\n\n### 1. 行为分析阶段\n- **获取C源码**：使用`read_symbols`查找原C实现\n- **理解关键行为**：分析C实现中的计数器、状态维护、边界条件\n- **识别差异点**：注意C实现中可能被忽略的隐含行为\n\n### 2. 实现验证阶段\n- **创建测试基准**：基于C实现行为编写测试用例\n- **多轮验证**：\n  1. 运行`cargo test`验证当前实现\n  2. 对比失败用例，分析预期差异\n  3. 检查是否需要更新测试预期或修复实现\n\n### 3. 测试用例调整\n- **保留旧测试**：不要删除现有测试，而是更新预期结果\n- **添加新测试**：补充验证C特有行为的测试用例\n- **验证全面性**：确保覆盖所有边界情况\n\n### 4. 最终验证\n- **全量测试通过**：确保所有测试（包括其他模块）都能通过\n- **行为确认**：使用具体输入验证输出与C实现一致\n\n## 注意事项\n- 测试预期结果应基于**C实现的行为**，而非直觉或原有测试\n- 遇到测试失败时，优先考虑**调整测试预期**而非修改正确实现\n- 保持最小改动，避免无关重构\n\n## 可选步骤\n- 如需要，可以创建专门的C行为验证工具\n- 对于复杂状态机，可以考虑状态转换图的验证"
}