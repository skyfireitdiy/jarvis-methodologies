{
  "problem_type": "C++空指针解引用安全修复",
  "content": "问题重述：\n在C++代码中发现空指针解引用风险，需要在不破坏API兼容性的前提下修复安全漏洞，确保程序在接收到空指针时能优雅处理而非崩溃。\n\n可复用解决流程：\n1. 风险识别阶段\n   - 使用静态分析工具或代码审查识别可能的空指针解引用位置\n   - 重点关注函数参数、返回值、成员变量解引用操作\n   - 记录存在风险的函数名、行号和变量名\n\n2. 修复实施阶段\n   - 在函数入口处添加空指针检查（防御性编程）\n   - 使用项目统一的日志宏记录错误信息（如UTILS_LOGE）\n   - 返回合适的错误码或false值，保持函数语义一致性\n   - 遵循项目代码风格和命名规范\n   - 不引入新的外部依赖\n\n3. 验证阶段\n   - 使用read_code验证每处修复是否符合要求\n   - 执行编译验证确保无编译错误\n   - 检查空指针检查是否覆盖所有调用路径\n   - 验证异常处理路径是否正确（nullptr时返回false/错误码）\n\n4. 文档记录\n   - 保存修复详情到项目长期记忆\n   - 记录修复模式到全局长期记忆供未来复用\n\n注意事项：\n- 禁止修改不在问题报告中的代码\n- 禁止改变函数签名导致API不兼容\n- 必须保持代码风格一致性\n- 高优先级问题（空指针、内存分配）必须优先修复\n\n可选步骤：\n- 添加单元测试验证空指针处理逻辑\n- 进行代码审查确保修复质量\n- 更新相关文档说明API行为变化"
}