{
  "problem_type": "SA-IS算法实现验证方法论",
  "content": "SA-IS算法实现验证方法论\n\n## 问题重述\n验证SA-IS（Suffix Array Induced Sorting）算法的正确实现，确保线性时间复杂度、正确排序结果和API兼容性\n\n## 可复用验证流程\n\n### 阶段1：结构验证\n1. 文件存在性检查：确认src/compress/sais_algorithm.rs存在\n2. 核心组件验证：\n   - classify_types: L/S类型分类函数\n   - compute_buckets: 桶排序预处理\n   - find_lms_positions: LMS子串识别\n   - induce_sort_l/s: 诱导排序主逻辑\n   - create_reduced_problem: 递归问题缩减\n\n### 阶段2：功能测试\n1. 基础测试：cargo test compress::sais_algorithm::tests::test_empty_input\n2. 边界测试：cargo test compress::sais_algorithm::tests::test_single_char\n3. 已知用例：cargo test compress::sais_algorithm::tests::test_banana\n4. 全量测试：cargo test compress::sais_algorithm::tests\n\n### 阶段3：正确性验证\n1. 手动验证：\n   ```bash\n   cargo test --package bzip2_rs compress::sais_algorithm::tests --no-fail-fast\n   ```\n2. 调试技巧：\n   - 使用dbg!宏打印中间变量\n   - 对比正确结果：\"banana\"的SA应为[5,3,1,0,4,2]\n   - 检查LMS位置映射是否正确\n3. 边界条件：\n   - 空输入：[]\n   - 单字符：[0]\n   - 重复字符：模式如\"aaa\"或\"abab\"\n\n### 阶段4：性能验证\n1. 仅功能正确后进行\n2. 运行test_roundtrip_50mb基准测试\n3. 对比旧算法性能提升25-50%\n\n## 注意事项\n- 算法正确性优先于性能优化\n- 单字符和空输入是常见边界错误源\n- LMS子串边界条件需要特别检查\n- 递归调用深度需要验证\n\n## 可选步骤\n1. 创建独立测试文件验证特定用例\n2. 使用可视化工具分析后缀数组结构\n3. 对比参考实现（如libdivsufsort）结果"
}