{
  "problem_type": "文件补丁处理",
  "content": "# 文件补丁处理最佳实践\n\n## 问题重述\n处理代码补丁应用时的文件安全检查和错误处理\n\n## 最优解决方案\n1. 文件检查阶段 (使用os.path.exists和os.path.getsize)\n   - 检查文件是否存在\n   - 检查文件是否为空\n   - 跳过不存在的文件和空文件\n\n2. 补丁应用阶段 (使用FileOperationTool)\n   - 严格遵循最小补丁原则\n   - 仅修改必要的代码部分\n   - 保持原有代码格式\n\n3. 错误处理阶段\n   - 捕获并处理文件操作异常\n   - 提供清晰的错误提示\n\n## 注意事项\n- 不要提供完整文件内容，仅提供修改部分\n- 对于新文件需要完整内容\n- 严格保持原有代码格式\n- 文件读取检查应跳过不存在的文件和空文件\n\n## 可选步骤\n- 对于大型文件可考虑分块处理\n- 可添加文件备份机制作为安全措施"
}